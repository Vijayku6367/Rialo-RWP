<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Real World Privacy - Powered by Rialo</title>
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
 <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
 <style>
 /* Yeh CSS code april CSS file me add karein */

.hero-section {
 position: relative; /* Yeh sabse zaroori hai */
 height: 35vh; /* Aap apne hisab se height set karein */
 display: flex;
 align-items: center;
 justify-content: center;
 overflow: hidden; /* Yeh bhi zaroori hai */
 text-align: center;
 color: white;
  border-radius: 20px;    /* charo or se golayi */
  margin-top: 5px;
  margin-bottom: 15px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2); /* halka shadow for depth */
}
.parallax-bg {
 background-image: url('https://i.postimg.cc/cJ6Qv1Bj/Rialo-Thumbnail-X.png'); 
 /* April image ka path yahan daalein */
 background-size: cover;
 background-position: center;
 position: absolute;
 top: 0;
 left: 0;
 width: 100%;
 height: 120%; /* Image ko thoda extra height dein taaki scroll ho sake */
 z-index: 1; /* Isse background content ke peeche chala jayega */
}

.parallax-content {
    position: relative; /* Taki yeh background ke upar rahe */
    z-index: 1;
    padding: 80px;
    background-color: rgba(0, 0, 0, 0.3); /* Optional: text readable banane ke liye */
    border-radius: 10px;
}
/* Futuristic dark theme -- Real World Privacy (Powered by Rialo) */
:root {
 --background: #d4c6c0; /* Light brown background */
 --text-main: #3a2e29; /* Dark brown text */
 --accent: #6a5af9; /* Purple accent */
 --accent-2: #00b4ff; /* Blue accent */
 --muted: rgba(58, 46, 41, 0.7); /* Muted text */
 --accent-pink: #e91e63; /* Pink accent */
 --highlight-green: #97c47f;
 --highlight-yellow: #f4d03f;
 --highlight-orange: #e87b4f;
 --highlight-blue: #5dade2;
 --radius: 14px;
 --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
 --glow: 0 0 20px rgba(106, 90, 249, 0.5);
 font-family: 'Poppins', sans-serif;
 color-scheme: light;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

html, body {
  height: 100%;
  overflow-x: hidden;
  background: url('https://i.postimg.cc/90Zv9L01/58d0e0f.jpg');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  color: var(--text-main);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  scroll-behavior: smooth;
}

/* Cosmos Animation Elements */
#cosmos-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    pointer-events: none;
}

.particle {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.5);
    box-shadow: 0 0 10px rgba(106, 90, 249, 0.5);
}

.orbit {
    position: absolute;
    border: 1px solid rgba(106, 90, 249, 0.2);
    border-radius: 50%;
}

.glow-text {
    text-shadow: var(--glow);
    animation: glow-pulse 3s infinite alternate;
}

@keyframes glow-pulse {
    0% { text-shadow: 0 0 10px rgba(106, 90, 249, 0.7); }
    100% { text-shadow: 0 0 20px rgba(106, 90, 249, 0.9), 0 0 30px rgba(0, 180, 255, 0.5); }
}

@keyframes fadeUp {
    from { opacity: 0; transform: translateY(40px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes textGlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* YEH ANIMATION BANANE KE LIVE HAI */
@keyframes float {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
    100% { transform: translateY(0px); }
}

/* Layout */
.page {
    max-width: 1180px;
    margin: 0 auto;
    padding: 20px;
    position: relative;
    z-index: 1;
}

.site-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 20px;
    margin-bottom: 20px;
    backdrop-filter: blur(10px);
    background: rgba(4, 0, 15, 0.7);
    border-radius: var(--radius);
    border: 1px solid rgba(255, 255, 255, 0.05);
    animation: fadeUp 1.8s ease-out forwards;
}

.header-inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
}

.brand {
    display: flex;
    gap: 12px;
    align-items: center;
}

.logo {
    width: 48px;
    height: 48px;
    filter: drop-shadow(0 0 8px rgba(106, 90, 249, 0.5));
}

.brand-text {
    display: flex;
    flex-direction: column;
}

.brand-title {
    font-weight: 700;
    font-size: 18px;
    letter-spacing: 0.2px;
    color: white;
}

.brand-sub {
    color: rgba(255, 255, 255, 0.7);
    font-size: 13px;
    margin-top: 1px;
}

.top-nav {
    display: flex;
    gap: 12px;
    align-items: center;
}

.top-nav a {
    color: rgba(255, 255, 255, 0.7);
    text-decoration: none;
    padding: 8px 12px;
    border-radius: 10px;
    transition: all 0.3s ease;
}

.top-nav a:hover {
    background: rgba(255, 255, 255, 0.05);
    color: var(--accent-2);
}

.top-nav a.cta {
    background: linear-gradient(90deg, rgba(106,90,249,0.06), rgba(0,180,255,0.05));
    color: var(--accent-2);
    font-weight: 700;
}

/* Hero */
.hero {
    display: grid;
    grid-template-columns: 1fr 460px;
    gap: 22px;
    align-items: start;
    padding: 40px 0;
    min-height: 80vh;
}

.eyebrow {
    color: var(--accent-2);
    font-weight: 700;
    font-size: 13px;
    margin-bottom: 10px;
}

.hero-title {
    font-size: 36px;
    line-height: 1.04;
    margin: 0;
    color: #3a2e29;
}

.hero-title .accent {
    background: linear-gradient(90deg, var(--accent), var(--accent-2));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    background-size: 200% auto;
    animation: textGlow 5s linear infinite;
}

.hero-subtitle {
    font-size: 24px;
    margin: 10px 0;
    color: var(--text-main);
}

.hero-lead {
    color: var(--muted);
    max-width: 56ch;
    margin-top: 12px;
    line-height: 1.5;
    font-size: 1.1rem;
}

.highlight-green { color: var(--highlight-green); }
.highlight-blue { color: var(--highlight-blue); }
.highlight-yellow { color: var(--highlight-yellow); }
.highlight-orange { color: var(--highlight-orange); }

.hero-cta-row {
    display: flex;
    gap: 12px;
    margin-top: 16px;
}

.btn-primary {
    background: linear-gradient(90deg, var(--accent), var(--accent-2));
    color: #fff;
    padding: 12px 16px;
    border-radius: 12px;
    text-decoration: none;
    font-weight: 700;
    box-shadow: var(--glow);
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.btn-primary:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 0 40px rgba(0, 180, 255, 0.7);
}

.btn-ghost {
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.03);
    color: var(--muted);
    padding: 10px 14px;
    border-radius: 12px;
    text-decoration: none;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.btn-ghost:hover {
    background: rgba(255, 255, 255, 0.05);
    color: var(--accent-2);
}

.powered {
    margin-top: 14px;
    color: var(--muted);
    font-size: 13px;
}

/* Right panel */
.card {
 background: var(--background);
 padding: 25px;
 border: 1px solid rgba(0,0,0,0.05);
 box-shadow: 0 8px 40px rgba(0,0,0,0.08);
 border-radius: var(--radius);
 margin-bottom: 20px;
}

.panel-title {
    font-weight: 700;
    margin-bottom: 8px;
}

select, input, textarea {
    width: 100%;
    padding: 10px;
    border-radius: 10px;
    border: 1px solid rgba(0, 0, 0, 0.1);
    background: rgba(255, 255, 255, 0.5);
    color: inherit;
    font-size: 14px;
    outline: none;
    transition: all 0.3s ease;
    margin-bottom: 12px;
}

select:focus, input:focus, textarea:focus {
    border-color: rgba(106, 90, 249, 0.3);
    box-shadow: 0 0 0 2px rgba(106, 90, 249, 0.1);
}

textarea {
    min-height: 84px;
    resize: vertical;
}

.actions {
    display: flex;
    gap: 8px;
    margin-top: 12px;
}

.btn-primary-sm {
    background: linear-gradient(90deg, var(--accent), var(--accent-2));
    color: #fff;
    padding: 8px 10px;
    border-radius: 10px;
    border: 0;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-primary-sm:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(106, 90, 249, 0.4);
}

.btn-ghost-sm {
    background: transparent;
    border: 1px solid rgba(0, 0, 0, 0.1);
    color: var(--muted);
    padding: 8px 10px;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-ghost-sm:hover {
    background: rgba(0, 0, 0, 0.05);
    color: var(--accent-2);
}

.panel-sub {
    display: flex;
    gap: 12px;
    margin-top: 14px;
}

.sub-left {
    flex: 1;
}

.sub-right {
    flex: 1;
    min-width: 240px;
}

.sub-label {
    font-size: 13px;
    color: var(--muted);
    margin-bottom: 8px;
}

.log {
    font-family: var(--mono);
    font-size: 13px;
    color: var(--muted);
    background: rgba(255, 255, 255, 0.5);
    padding: 10px;
    border-radius: 8px;
    max-height: 140px;
    overflow: auto;
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.payload {
    height: 86px;
    font-family: var(--mono);
    font-size: 13px;
    resize: none;
}

.payload-row {
    display: flex;
    gap: 8px;
    margin-top: 8px;
}

.copy-btn {
    background: transparent;
    border: 1px dashed rgba(0, 0, 0, 0.1);
    color: var(--muted);
    padding: 8px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    flex: 1;
}

.copy-btn:hover {
    background: rgba(0, 0, 0, 0.05);
    color: var(--accent-2);
}

.note {
    color: var(--muted);
    font-size: 13px;
    margin-top: 12px;
}

/* How section */
.how {
    margin-top: 22px;
    padding: 18px;
}

.steps-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
    margin-top: 12px;
}

.step {
    background: rgba(255, 255, 255, 0.5);
    padding: 12px;
    border-radius: 10px;
    transition: all 0.3s ease;
    /* YEH LINE ANIMATION CHALANE KE LIVE HAI */
    animation: float 5s ease-in-out infinite;
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.step:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}

.step-num {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    background: linear-gradient(90deg, var(--accent), var(--accent-2));
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    color: #fff;
    margin-bottom: 8px;
}

.step h4 {
    margin: 0;
    margin-bottom: 6px;
}

.muted {
    color: var(--muted);
}

/* Decrypt section */
.decrypt {
    margin-top: 22px;
    padding: 18px;
}

.site-footer {
    margin-top: 26px;
    padding: 18px;
    text-align: center;
    color: var(--muted);
    font-size: 13px;
}

/* Contributors */
.contributors {
    margin-top: 22px;
    padding: 18px;
}

.brands {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    margin-top: 12px;
}

.brand-item {
    background: rgba(255, 255, 255, 0.5);
    padding: 8px 12px;
    border-radius: 8px;
    color: var(--muted);
    font-weight: 700;
    transition: all 0.3s ease;
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.brand-item:hover {
    background: rgba(255, 255, 255, 0.7);
    color: var(--accent-2);
    transform: translateY(-2px);
}

/* Section animations */
section {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.8s ease, transform 0.8s ease;
}

section.visible {
    opacity: 1;
    transform: translateY(0);
}

/* Responsive */
@media (max-width: 980px) {
    .hero {
    grid-template-columns: 1fr;
    }
    .panel-sub {
    flex-direction: column;
    }
    .steps-grid {
    grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 560px) {
    .steps-grid {
    grid-template-columns: 1fr;
    }
    .brand-title {
    font-size: 16px;
    }
    .hero-title {
    font-size: 28px;
    }
    .hero-cta-row {
    flex-direction: column;
    }
}
.cube {
  position: absolute;
  width: 60px;
  height: 60px;
  top: 50%;
  left: 50%;
  background: linear-gradient(135deg, rgba(106,90,249,0.8), rgba(0,180,255,0.8));
  transform-style: preserve-3d;
  transform: translate(-50%, -50%) rotate3d(1,1,0,0deg);
  animation: cubeSpin 8s linear infinite;
  opacity: 0.6;
  filter: blur(1px);
  z-index: 0;
  border-radius: 8px;
}

@keyframes cubeSpin {
  from { transform: translate(-50%, -50%) rotate3d(1,1,0,0deg); }
  to   { transform: translate(-50%, -50%) rotate3d(1,1,0,360deg); }
}
/* Common box style */
.section {
  background: #e8d9d0;       /* halka cream background */
  border-radius: 25px;       /* rounded corners */
  padding: 25px;
  margin: 20px auto;
  width: 90%;
  max-width: 700px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}

/* First box - Powered section */
.powered-box {
  text-align: center;
}

.powered-box img {
  width: 100%;
  border-radius: 25px;
  margin: 10px 0 20px 0;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

.demo-btn {
  background: linear-gradient(to right, #007bff, #00c6ff);
  border: none;
  color: #fff;
  padding: 12px 30px;
  border-radius: 10px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 3px 10px rgba(0,0,0,0.2);
}

/* Second box - Demo section */
.demo-box h2 {
  font-weight: 700;
  color: #333;
  margin-bottom: 15px;
}

.demo-box form {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

 </style>
</head>
<body>
<div id="cosmos-bg"></div>

<div class="page">
    <header class="site-header">
    <div class="header-inner">
    <div class="brand">
    <svg class="logo" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
    <circle cx="24" cy="24" r="20" fill="url(#logoGradient)" />
    <path d="M24 8C20 8 16 10 14 14C12 18 12 22 14 26C16 30 20 32 24 32C28 32 32 30 34 26C36 22 36 18 34 14C32 10 28 8 24 8Z" fill="#04000f"/>
    <circle cx="24" cy="20" r="4" fill="#6a5af9"/>
    <defs>
    <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
    <stop offset="0%" stop-color="#6a5af9" />
    <stop offset="100%" stop-color="#00b4ff" />
    </linearGradient>
    </defs>
    </svg>
    <div class="brand-text">
    <div class="brand-title glow-text">Real World Privacy</div>
    <div class="brand-sub">Encrypted Messages to Real People</div>
    </div>
    </div>

    <nav class="top-nav">
    <a href="#how">How</a>
    <a href="#demo" class="cta">Try Demo</a>
    </nav>
    </div>
    </header>

    <main>
    <section class="hero card">
    <section class="hero-section">
    <div class="parallax-bg"></div>
    <div class="parallax-content">
    <h1>Powered By RialoHq</h1>
    <p>Real World Privacy</p>
    </div>
    </section>
    <div class="hero-left">
    <h1 class="hero-title">
    The Only Network- <br><span class="accent">POWERED BY RIALOHQ</span>
    </h1>
    <h2 class="hero-subtitle">
    REAL USERS <span class="highlight-green">REAL BUILDES</span>
    </h2>
    <p class="hero-lead">
    Rethink. Rebuild. Rialo. <span class="highlight-blue">RIALO</span>, <span class="highlight-yellow">THREE.JS</span> AND BUILDING <span class="highlight-yellow">PROTOTYPES</span> INTEREST ME MOST.
    </p>
    <p class="hero-lead">
    I'M <span class="highlight-orange">RWP</span>,
    </p>
    <p class="hero-lead">
    CHECK OUT <a href=""></a>
    </p>

    <div class="hero-cta-row">
    <a class="btn-primary" href="#demo">
    <i class="fas fa-rocket"></i>
    Launch Demo
    </a>
    <a class="btn-ghost" href="#how">
    <i class="fas fa-info-circle"></i>
    How it works
    </a>
    </div>
    
    <div class="powered">Powered by <strong>Rialo</strong></div>
    </div>

    <div class="hero-right card" id="heroPanel">
    <div class="panel-title">Live demo - encrypt & send</div>
 
    <label>Channel</label>
    <select id="recipientType">
    <option value="email">Email</option>
    <option value="phone">Phone (SMS)</option>
    <option value="device">Device ID</option>
    </select>

    <label>Recipient</label>
    <input id="recipient" placeholder="name@example.com or +919876543210 or device:abcd-1234" type="text" />

    <label>Message</label>
    <textarea id="plaintext">Hello - from Real World Privacy.</textarea>

    <div class="actions">
    <button id="encryptBtn" class="btn-primary-sm">
    <i class="fas fa-lock"></i>
    Encrypt & Send
    </button>
    <button id="generateKeyBtn" class="btn-ghost-sm">
    <i class="fas fa-key"></i>
    Gen Key
    </button>
    <button id="clearBtn" class="btn-ghost-sm">
    <i class="fas fa-trash"></i>
    Clear
    </button>
    </div>

    <div class="panel-sub">
    <div class="sub-left">
    <div class="sub-label">Delivery log</div>
    <div id="deliveryLog" class="log"></div>
    </div>
    <div class="sub-right">
    <div class="sub-label">Payload</div>
    <textarea id="payloadBox" readonly class="payload"></textarea>
    <div class="payload-row">
    <button id="copyPayload" class="copy-btn">
    <i class="fas fa-copy"></i>
    Copy
    </button>
    <button id="downloadPayload" class="copy-btn">
    <i class="fas fa-download"></i>
    Download
    </button>
    </div>

    <div class="sub-label" style="margin-top: 12px">Key (base64)</div>
    <div style="display:flex;gap:8px">
    <input id="keyBox" placeholder="base64 key" />
    <button id="copyKey" class="copy-btn">
    <i class="fas fa-copy"></i>
    </button>
    </div>

    <button id="openDecrypt" class="btn-ghost-sm" style="margin-top:10px; width: 100%">
    <i class="fas fa-unlock"></i>
    Open Decrypt Console
    </button>
    </div>
    </div>

    <div class="note">Demo exports raw symmetric keys for demonstration only. Use envelope encryption / identity-based key routing in production.</div>
    </div>
    </section>

    <section id="how" class="how card">
  <h2 class="glow-text">How it works</h2>
  <div class="steps-grid">
    <div class="step"> <div class="step">
  <span class="cube"></span>
  <div class="step-num">1</div>
  <h4>Create symmetric key</h4>
  <p>App generates a fresh AES-GCM key per message.</p>
</div>
 </div>
    <div class="step"> <div class="step">
  <span class="cube"></span>
  <div class="step-num">1</div>
  <h4>Encrypt payload</h4>
  <p>Message is encrypted client-side and delivered as an opaque payload.</p>
</div>
 </div>
    <div class="step"> <div class="step">
  <span class="cube"></span>
  <div class="step-num">1</div>
  <h4>Secure key routing</h4>
  <p>Key is wrapped and routed via secure key service tied to recipient identity (production)..</p>
</div>
</div>
    <div class="step"> <div class="step">
  <span class="cube"></span>
  <div class="step-num">1</div>
  <h4>Local decryption</h4>
  <p> Recipient receives key, decrypts locally; server never sees plaintext.</p>
</div>
</div>
  </div>
</section>

    <section id="demo" class="decrypt card">
    <h3 class="glow-text">Developer decrypt console</h3>

    <label>Base64 key</label>
    <input id="decKey" placeholder="paste base64 key here" />

    <label>Encrypted payload</label>
    <textarea id="decPayload" placeholder="paste encrypted payload here"></textarea>

    <div class="actions" style="margin-top:8px">
    <button id="doDecrypt" class="btn-primary-sm">
    <i class="fas fa-unlock"></i>
    Decrypt
    </button>
    <button id="clearDecrypt" class="btn-ghost-sm">
    <i class="fas fa-trash"></i>
    Clear
    </button>
    </div>

    <div class="sub-label" style="margin-top:12px">Decrypted message</div>
    <div id="decrypted" class="log"></div>
    </section>

    <section class="contributors card">
    <h3 class="glow-text">Trusted by modern builders</h3>
    <p class="muted">Integration-friendly, developer-first thinking - companies and teams ship faster.</p>
    <div class="brands">
      <div class="brand-item">Meta</div>
    <div class="brand-item">Google</div>
    <div class="brand-item">Microsoft</div>
    <div class="brand-item">Solana</div>
    <div class="brand-item">Amazon</div>
    </div>
    </section>

    <footer class="site-footer">
    <div>$ <span id="year"></span> Real World Privacy â€¢ Powered by <strong>Rialo</strong></div>
    <div class="muted">This is an original implementation inspired by futuristic product sites - safe to deploy.</div>
    </footer>
    </main>
</div>

<script>
// Cosmos Background Animation
function createCosmosBackground() {
    const cosmosBg = document.getElementById('cosmos-bg');

    // Create particles
    for (let i = 0; i < 50; i++) {
    const particle = document.createElement('div');
    particle.classList.add('particle');

    const size = Math.random() * 3 + 1;
    particle.style.width = `${size}px`;
    particle.style.height = `${size}px`;

    const x = Math.random() * 100;
    const y = Math.random() * 100;
    particle.style.left = `${x}%`;
    particle.style.top = `${y}%`;

    const opacity = Math.random() * 0.5 + 0.1;
    particle.style.opacity = opacity;

    cosmosBg.appendChild(particle);

    // Animate particles
    animateParticle(particle);
    }

    // Create orbits
    for (let i = 0; i < 10; i++) {
    const orbit = document.createElement('div');
    orbit.classList.add('orbit');

    const size = Math.random() * 300 + 100;
    orbit.style.width = `${size}px`;
    orbit.style.height = `${size}px`;

    const x = Math.random() * 100;
    const y = Math.random() * 100;
    orbit.style.left = `calc(${x}% - ${size/2}px)`;
    orbit.style.top = `calc(${y}% - ${size/2}px)`;

    cosmosBg.appendChild(orbit);
    }
}

function animateParticle(particle) {
    const duration = Math.random() * 20 + 10;
    const xMove = (Math.random() - 0.5) * 100;
    const yMove = (Math.random() - 0.5) * 100;

    particle.animate([
    { transform: 'translate(0, 0)', opacity: particle.style.opacity },
    { transform: `translate(${xMove}px, ${yMove}px)`, opacity: 0 }
    ], {
    duration: duration * 1000,
    iterations: Infinity,
    direction: 'alternate',
    easing: 'ease-in-out'
    });
}

// Scroll animations
function initScrollAnimations() {
    const sections = document.querySelectorAll('section');

    const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
    if (entry.isIntersecting) {
    entry.target.classList.add('visible');
    }
    });
    }, { threshold: 0.1 });

    sections.forEach(section => {
    observer.observe(section);
    });
}

// Parallax effect
window.addEventListener('scroll', function() {
    const parallaxBg = document.querySelector('.parallax-bg');
    if (parallaxBg) {
    let scrollPosition = window.scrollY;
    parallaxBg.style.transform = 'translateY(' + scrollPosition * 0.5 + 'px)';
    }
});

// Set current year
document.getElementById('year').textContent = new Date().getFullYear();

// Initialize everything when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    createCosmosBackground();
    initScrollAnimations();

    // Add initial visible class to hero section
    document.querySelector('.hero').classList.add('visible');
});

/*
app.js
Client-side demo for Real World Privacy: web-crypto AES-GCM
encrypt/decrypt
- Encrypt & Send: generates a fresh AES-GCM 256 key, encrypts plaintext, creates payload (iv:ciphertext) base64
- Exports key to base64 so recipient can decrypt locally (demo only)
- All operations happen in browser (no server)
*/

/* Elements */
const encBtn = document.getElementById('encryptBtn');
const genKeyBtn = document.getElementById('generateKeyBtn');
const clearBtn = document.getElementById('clearBtn');
const deliveryLog = document.getElementById('deliveryLog');
const payloadBox = document.getElementById('payloadBox');
const keyBox = document.getElementById('keyBox');
const copyPayload = document.getElementById('copyPayload');
const copyKey = document.getElementById('copyKey');
const downloadPayload = document.getElementById('downloadPayload');
const openDecrypt = document.getElementById('openDecrypt');
const decKey = document.getElementById('decKey');
const decPayload = document.getElementById('decPayload');
const doDecrypt = document.getElementById('doDecrypt');
const decrypted = document.getElementById('decrypted');
const recipientInput = document.getElementById('recipient');
const recipientType = document.getElementById('recipientType');
const plaintext = document.getElementById('plaintext');

/* Text encoder/decoder */
const textEncoder = new TextEncoder();
const textDecoder = new TextDecoder();

function b64encode(buf) {
    return btoa(String.fromCharCode(...new Uint8Array(buf)));
}

function b64decode(str) {
    const bin = atob(str);
    const arr = new Uint8Array(bin.length);
    for (let i = 0; i < bin.length; i++) arr[i] = bin.charCodeAt(i);
    return arr.buffer;
}

/* Key generation/export */
async function generateKeyBase64() {
    const key = await crypto.subtle.generateKey(
    { name: "AES-GCM", length: 256 },
    true,
    ["encrypt", "decrypt"]
    );
    const raw = await crypto.subtle.exportKey("raw", key);
    return { key, rawB64: b64encode(raw) };
}

async function importKeyFromBase64(b64) {
    const raw = b64decode(b64);
    return crypto.subtle.importKey("raw", raw, "AES-GCM", true, ["encrypt", "decrypt"]);
}

/* Encrypt */
async function encryptMessage(key, plaintextStr) {
    const iv = crypto.getRandomValues(new Uint8Array(12)); // 96-bit iv
    const ct = await crypto.subtle.encrypt(
    { name: "AES-GCM", iv },
    key,
    textEncoder.encode(plaintextStr)
    );

    const ivB64 = b64encode(iv);
    const ctB64 = b64encode(ct);
    const payload = ivB64 + ":" + ctB64;
    return { payload, ivB64 };
}

/* Decrypt */
async function decryptPayloadWithKeyAndPayload(keyObj, payloadStr) {
    const [ivB64, ctB64] = payloadStr.split(':');
    if (!ivB64 || !ctB64) throw new Error("Invalid payload format");
    const iv = new Uint8Array(b64decode(ivB64));
    const ct = b64decode(ctB64);
    const plainBuf = await crypto.subtle.decrypt({ name: "AES-GCM", iv }, keyObj, ct);
    return textDecoder.decode(plainBuf);
}

/* UI helpers */
function log(msg) {
    const now = new Date().toLocaleTimeString();
    deliveryLog.innerText = `[${now}] ${msg}\n` + deliveryLog.innerText;
}

function copyToClipboard(text) {
    navigator.clipboard?.writeText(text).then(() => {
    log('Copied to clipboard');
    }, () => {
    alert('Copy failed - use manual copy.');
    });
}

/* Simulated send: in production, replace with channel delivery + secure key routing */
async function simulateSend(recipientType, recipientId, payloadB64, keyB64) {
    await new Promise(r => setTimeout(r, 700));
    log(`Delivered encrypted payload to ${recipientType} > ${recipientId}`);
    log(`(demo) Key token available for recipient: ${recipientId}`);
    payloadBox.value = payloadB64;
    keyBox.value = keyB64;
}

/* Events */
encBtn.addEventListener('click', async () => {
    const recipientId = recipientInput.value.trim();
    const channel = recipientType.value;
    const text = plaintext.value.trim();
    if (!recipientId) { alert('Enter recipient identifier (email / phone / device id).'); return; }
    if (!text) { alert('Message is empty.'); return; }

    try {
    encBtn.disabled = true;
    encBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Encrypting...';

    const { key, rawB64 } = await generateKeyBase64();
    const { payload } = await encryptMessage(key, text);

    await simulateSend(channel, recipientId, payload, rawB64);

    log(`Encrypted message (${text.length} chars). Payload length ${payload.length} chars.`);
    encBtn.innerHTML = '<i class="fas fa-lock"></i> Encrypt & Send';
    } catch (e) {
    console.error(e);
    alert('Encryption failed: ' + (e.message || e));
    } finally {
    encBtn.disabled = false;
    }
});

genKeyBtn.addEventListener('click', async () => {
    genKeyBtn.disabled = true;
    genKeyBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating...';
    try {
    const { rawB64 } = await generateKeyBase64();
    keyBox.value = rawB64;
    log('Generated base64 symmetric key');
    } catch (e) {
    alert('Gen key failed');
    } finally {
    genKeyBtn.disabled = false;
    genKeyBtn.innerHTML = '<i class="fas fa-key"></i> Gen Key';
    }
});

clearBtn.addEventListener('click', () => {
    deliveryLog.innerText = '';
    payloadBox.value = '';
    keyBox.value = '';
    plaintext.value = '';
    recipientInput.value = '';
    log('Cleared all fields');
});

copyPayload.addEventListener('click', () => {
    if (payloadBox.value) copyToClipboard(payloadBox.value);
    else alert('No payload to copy');
});

copyKey.addEventListener('click', () => {
    if (keyBox.value) copyToClipboard(keyBox.value);
    else alert('No key to copy');
});

downloadPayload.addEventListener('click', () => {
    if (!payloadBox.value) { alert('No payload to download'); return; }
    const a = document.createElement('a');
    a.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(payloadBox.value);
    a.download = 'encrypted-payload.txt';
    a.click();
});

openDecrypt.addEventListener('click', () => {
    document.getElementById('demo').scrollIntoView({ behavior: 'smooth' });
});

doDecrypt.addEventListener('click', async () => {
    const keyB64 = decKey.value.trim();
    const payload = decPayload.value.trim();
    if (!keyB64 || !payload) { alert('Key and payload required.'); return; }

    try {
    doDecrypt.disabled = true;
    doDecrypt.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Decrypting...';
    const key = await importKeyFromBase64(keyB64);
    const plain = await decryptPayloadWithKeyAndPayload(key, payload);
    decrypted.innerText = plain;
    log('Decryption successful');
    } catch (e) {
    console.error(e);
    decrypted.innerText = 'Decryption failed: ' + (e.message || e);
    } finally {
    doDecrypt.disabled = false;
    doDecrypt.innerHTML = '<i class="fas fa-unlock"></i> Decrypt';
    }
});

document.getElementById('clearDecrypt').addEventListener('click', () => {
    decKey.value = '';
    decPayload.value = '';
    decrypted.innerText = '';
});
</script>
</body>
</html>
